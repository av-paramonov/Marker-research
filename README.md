Учебный проект выполнен в `Jupyter Notebook`

Использованы библиотеки `pandas`, `numpy`, `re`, `matplotlib.pyplot`, `seaborn`, `phik`

# Marker-research

## Изучение рынка заведений общественного питания Москвы  

Инвесторы из фонда Shut Up and Take My Money решили попробовать себя в новой области и открыть заведение общественного питания в Москве. Заказчики ещё не знают, что это будет за место: кафе, ресторан или бар. Расположение, меню и цены пока тоже обсуждаются. Для начала заказчики просят вас — аналитика — провести исследовательский анализ рынка Москвы. Эти результаты помогут в выборе подходящего инвесторам места.  
Вам доступен датасет с заведениями общественного питания Москвы, составленный на основе данных сервисов Яндекс Карты и Яндекс Бизнес на лето 2022 года. Информация, размещённая в сервисе Яндекс Бизнес, могла быть добавлена пользователями или найдена в общедоступных источниках. Она носит исключительно справочный характер.

---

### Описание данных  

Файл `/datasets/rest_info.csv` содержит информацию о заведениях общественного питания:  

`name` — название заведения;  
`address` — адрес заведения;  
`district` — административный район, в котором находится заведение, например Центральный административный округ;  
`category` — категория заведения, например «кафе», «пиццерия» или «кофейня»;  
`hours` — информация о днях и часах работы;  
`rating` — рейтинг заведения по оценкам пользователей в Яндекс Картах (высшая оценка — 5.0);  
`chain` — число, выраженное 0 или 1, которое показывает, является ли заведение сетевым (для маленьких сетей могут встречаться ошибки):  
  - 0 — заведение не является сетевым;  
  - 1 — заведение является сетевым.

`seats` — количество посадочных мест.  

Файл `/datasets/rest_price.csv` содержит информацию о среднем чеке в заведениях общественного питания:  

`price` — категория цен в заведении, например «средние», «ниже среднего», «выше среднего» и так далее;  
`avg_bill` — строка, которая хранит среднюю стоимость заказа в виде диапазона, например:  
  - «Средний счёт: 1000–1500 ₽»;
  - «Цена чашки капучино: 130–220 ₽»;
  - «Цена бокала пива: 400–600 ₽» и так далее;  

`middle_avg_bill` — число с оценкой среднего чека, которое указано только для значений из столбца avg_bill, начинающихся с подстроки «Средний счёт»:  
  - Если в строке указан ценовой диапазон из двух значений, в столбец войдёт медиана этих двух значений.  
  - Если в строке указано одно число — цена без диапазона, то в столбец войдёт это число.  
  - Если значения нет или оно не начинается с подстроки «Средний счёт», то в столбец ничего не войдёт.

`middle_coffee_cup` — число с оценкой одной чашки капучино, которое указано только для значений из столбца avg_bill, начинающихся с подстроки «Цена одной чашки капучино»:  
  - Если в строке указан ценовой диапазон из двух значений, в столбец войдёт медиана этих двух значений.  
  - Если в строке указано одно число — цена без диапазона, то в столбец войдёт это число.  
  - Если значения нет или оно не начинается с подстроки «Цена одной чашки капучино», то в столбец ничего не войдёт.  

---

### Шаг 1. Загрузка данных и знакомство с ними  

1. Загрузите данные о заведениях общественного питания Москвы. Путь к файлам: `/datasets/rest_info.csv` и `/datasets/rest_price.csv`.  
2. Познакомьтесь с данными и изучите общую информацию о них.  
3. Сделайте вывод о полученных данных: каков объём данных, соответствуют ли данные описанию, встречаются ли пропущенные значения, используются ли верные типы данных.  
4. Отметьте другие особенности данных, которые вы обнаружите на этой стадии и на которые стоит обратить внимание при предобработке.  
5. Объедините данные двух датасетов в один, с которым вы и продолжите работу.

### Шаг 2. Предобработка данных  

Подготовьте данные к исследовательскому анализу:  
1. Изучите корректность типов данных и при необходимости проведите их преобразование. Помните, что наличие пропусков в данных может влиять на их тип.  
2. Изучите пропущенные значения в данных: посчитайте их количество в каждом столбце датафрейме, изучите данные с пропущенными значениями и предположите гипотезы их появления. Проведите обработку пропущенных значений: вы можете заменить пропуски на определённое значение, удалить строки с пропусками или оставить их как есть.  
3. Проверьте данные на явные и неявные дубликаты, например, поля с названием и адресом заведения. Для оптимизации проверки нормализуйте данные в текстовых столбцах, например с названием заведения.  
4. Для дальнейшей работы выделите новые столбцы:  
  - Создайте столбец `is_24_7` с обозначением того, что заведение работает ежедневно и круглосуточно, то есть 24/7:  
    - логическое значение `True` — если заведение работает ежедневно и круглосуточно;  
    - логическое значение `False` — в противоположном случае.  

После предобработки данных напишите промежуточный вывод о проведённой работе. Отразите количество или долю отфильтрованных данных, если вы что-то удаляли.  

### Шаг 3. Исследовательский анализ данных  

Проведите исследовательский анализ исходных данных и ответьте на вопросы:  
1. Какие категории заведений представлены в данных? Исследуйте количество объектов общественного питания по каждой категории. Результат сопроводите подходящей визуализацией.  
2. Какие административные районы Москвы присутствуют в данных? Исследуйте распределение количества заведений по административным районам Москвы, а также отдельно распределение заведений каждой категории в Центральном административном округе Москвы. Результат сопроводите подходящими визуализациями.  
3. Изучите соотношение сетевых и несетевых заведений в целом по всем данным и в разрезе категорий заведения. Каких заведений больше — сетевых или несетевых? Какие категории заведений чаще являются сетевыми? Исследуйте данные, ответьте на вопросы и постройте необходимые визуализации.  
4. Исследуйте количество посадочных мест в заведениях. Встречаются ли в данных аномальные значения или выбросы? Если да, то с чем они могут быть связаны? Приведите для каждой категории заведений наиболее типичное для него количество посадочных мест. Результат сопроводите подходящими визуализациями.  
5. Исследуйте рейтинг заведений. Визуализируйте распределение средних рейтингов по категориям заведений. Сильно ли различаются усреднённые рейтинги для разных типов общепита?  
6. Изучите, с какими данными показывают самую сильную корреляцию рейтинги заведений? Постройте и визуализируйте матрицу корреляции рейтинга заведения с разными данными: его категория, положение (административный район Москвы), статус сетевого заведения, количество мест, ценовая категория и признак, является ли заведения круглосуточным. Выберите самую сильную связь и проверьте её.  
7. Сгруппируйте данные по названиям заведений и найдите топ-15 популярных сетей в Москве. Для них посчитайте значения среднего рейтинга. Под популярностью понимается количество заведений этой сети в регионе. К какой категории заведений они относятся? Результат сопроводите подходящими визуализациями.  
8. Изучите вариацию среднего чека заведения (столбец `middle_avg_bill`) в зависимости от района Москвы. Проанализируйте цены в центральном административном округе и других. Как удалённость от центра влияет на цены в заведениях? Результат сопроводите подходящими визуализациями.  

При исследовании данных используйте визуализации. Проверьте, что для каждого случая был подобран оптимальный тип визуализации с корректным оформлением. У графика должен быть заголовок, понятные подписи по осям, при необходимости легенда, а его размер является оптимальным для изучения.  
После исследования каждого пункта оставляйте небольшой комментарий с выводом или обсуждением результата. В конце шага обобщите результаты, выделив, по вашему мнению, самые важные.  

### Шаг 4. Итоговый вывод и рекомендации  

По результатам проведённого исследовательского анализа данных сформулируйте итоговый вывод и рекомендации для заказчика. Старайтесь акцентировать внимание на ключевых моментах исследования.  
При составлении вывода придерживайтесь такой структуры:  
1. Общий обзор проделанной работы.  
2. Ответы на исследовательские вопросы, или главные выводы.  
3. Рекомендации на основе анализа данных.
